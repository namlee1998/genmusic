# --- Core libs ---
huggingface_hub
fastapi
uvicorn[standard]>=0.27.0,<1.0.0


# --- HF stack (pinned) ---
transformers==4.37.2
accelerate>=0.21.0,<1.0.0   # tránh yêu cầu device_mesh (cần torch>=2.2)

# --- Audio / Music ---
audiocraft==1.3.0
pydub
scipy

# --- NumPy (an toàn cho SciPy/audiocraft) ---
numpy<2

# --- Uploads ---
python-multipart

# --- Bark (git) ---
git+https://github.com/suno-ai/bark.git

# --- Torch CPU (ổn định cho audiocraft + bark) ---
torch==2.1.0+cpu
torchaudio==2.1.0+cpu
-f https://download.pytorch.org/whl/cpu
